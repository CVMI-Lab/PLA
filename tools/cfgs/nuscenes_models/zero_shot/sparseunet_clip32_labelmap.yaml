CLASS_NAMES: ['barrier', 'bicycle', 'bus', 'car', 'construction_vehicle', 'motorcycle', 'pedestrian',
'traffic_cone', 'trailer', 'truck', 'driveable_surface', 'other_flat', 'sidewalk', 'terrain', 'manmade',
'vegetation']

DATA_CONFIG:
  _BASE_CONFIG_: cfgs/dataset_configs/nuscenes_dataset.yaml
  XYZ_NORM: False
  COLLATE_FN: collate_batch_lai
  MIN_SPATIAL_SCALE: 128

OSS:
  DATA: False

MODEL:
  NAME: SparseUNetTextSeg

  TASK_HEAD:
    NAME: TextSegHead
    EVAL_ONLY: True

    NUM_ADAPTER_LAYERS: 0
    TEXT_EMBED:
      NAME: CLIP
      NORM: True
      PATH: None
    
    CLASS_MAPPING: {
      'barrier': ['barrier', 'barricade'],
      'construction_vehicle': ['bulldozer', 'excavator', 'concarete mixer', 'crane', 'dump truck'],
      'pedestrian': ['pedestrian', 'person'],
      'trailer': ['trailer', 'semi trailer', 'cargo container', 'shipping container', 'freight container'],
      'driveable_surface': ['road'],
      'other_flat': ['curb', 'traffic island', 'traffic median sidewalk'],
      'terrain': ['grass', 'grassland', 'lawn', 'meadow', 'turf', 'sod'],
      'manmade': ['building', 'wall', 'pole', 'awning'],
      'vegatation': ['tree', 'trunk', 'tree truck', 'bush', 'shrub', 'plant', 'flower', 'woods']
    } 

TEXT_ENCODER:
  NAME: CLIP
  BACKBONE: ViT-B/32  # ['RN50', 'RN101', 'RN50x4', 'RN50x16', 'RN50x64', 'ViT-B/32', 'ViT-B/16', 'ViT-L/14']
  TEMPLATE: identity
  EXTRACT_EMBED: True  # Online extract text embedding from class or not
  NORM: True
  # CATEGORY_NAMES: ['barrier', 'bicycle', 'bus', 'car', 'construction vehicle', 'motorcycle', 'pedestrian',
  #                'traffic cone', 'trailer', 'truck', 'driveable surface', 'other flat',
  #                'sidewalk', 'terrain', 'manmade', 'vegetation']
  CATEGORY_NAMES: ['barrier', 'barricade',  # barrier
                   'bicycle', 'bus', 'car',
                   'bulldozer', 'excavator', 'concarete mixer', 'crane', 'dump truck', # construction_vehicle
                   'motorcycle', 
                   'pedestrian', 'person', # 'pedestrian', 
                   'traffic cone', 
                   'trailer', 'semi trailer', 'cargo container', 'shipping container', 'freight container', # 'trailer', 
                   'truck', 
                   'road',  # 'driveable surface', 
                   'curb', 'traffic island', 'traffic median sidewalk', # 'other flat', 
                   'sidewalk', 
                   'grass', 'grassland', 'lawn', 'meadow', 'turf', 'sod', # 'terrain', 
                   'building', 'wall', 'pole', 'awning', # 'manmade', 
                   'tree', 'trunk', 'tree truck', 'bush', 'shrub', 'plant', 'flower', 'woods' # 'vegetation'
                   ]
  # The target name here need to match the name in cfg.CLASS_NAME
  


OPTIMIZATION:
  BATCH_SIZE_PER_GPU: 4
  NUM_EPOCHS: 50
  LR: 0.01
  SCHEDULER: poly
  OPTIMIZER: adamw
  WEIGHT_DECAY: 0.01
  MOMENTUM: 0.9
  STEP_EPOCH: 50
  MULTIPLIER: 0.1
  CLIP_GRAD: False
  PCT_START: 0.4
  DIV_FACTOR: 1
  MOMS: [0.95, 0.85]
  # for poly scheduler
  POWER: 0.9

OTHERS:
  PRINT_FREQ: 50
  EVAL_FREQ: 5
  CKPT_SAVE_INTERVAL: 1
  SYNC_BN: False
  USE_AMP: True
