_BASE_CONFIG_: cfgs/scannet_models/zs/spconv_clip_caption.yaml


DATA_CONFIG:
  # TODO: make base + novel = all.
  ignore_class_idx: [ 19 ]

  CAPTION_INFO:

    KEY: [SCENE, VIEW, ENTITY]
  
    SCENE:
      ENABLED: False
      CAPTION_PATH: text_embed/caption.json

    VIEW:
      ENABLED: True
      CAPTION_PATH: text_embed/caption_2d.json
      IMAGE_CORR_PATH: scannetv2_matching_idx.pickle
      SELECT: ratio
      NUM: 1
      RATIO: 0.5
      SAMPLE: 1
      ONLY_LABEL_NAMES: True
      LABEL_NAMES: [wall, floor, cabinet, bed, chair, sofa, table, door, window, bookcase, painting, counter,
                    desk, curtain, refrigerator, showercurtain, toilet, sink, bathtub]

    ENTITY:
      ENABLED: False
      CAPTION_PATH: text_embed/caption_2d_intersect_v3.json
      IMAGE_CORR_PATH: scannetv2_matching_idx_intersect_v3.pickle
      SELECT: ratio
      NUM: 1
      RATIO: 1.0
    
    CAPTION_CORR_PATH_IN_ONE_FILE: True


MODEL:

  TASK_HEAD:
    NAME: TextSegHead
    LOSS_WEIGHT: 0.0

  CAPTION_HEAD:
    NAME: CaptionHead
    POOLING_TYPE: avg
    FEAT_NORM: True
    LOGIT_SCALE:
      value: 100.0
      learnable: True
    CUDA_ENABLED: True
    LOSS_FUNC: CrossEntropy
    LOSS_WEIGHT:
      SCENE: 0.1
      VIEW: 0.1
      ENTITY: 0.1
