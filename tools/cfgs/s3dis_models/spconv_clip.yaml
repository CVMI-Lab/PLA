CLASS_NAMES: [ceiling, floor, wall, beam, column, window, door, table, chair, sofa, bookcase, board, clutter]

DATA_CONFIG:
  _BASE_CONFIG_: cfgs/dataset_configs/s3dis_dataset.yaml
  ignore_class_idx: [12]

MODEL:
  NAME: SparseUNetTextSeg
  REMAP_FROM_3DLANG: False
  REMAP_FROM_NOADAPTER: False

  VFE:
    NAME: IndoorVFE
    USE_XYZ: True

  BACKBONE_3D:
    NAME: SparseUNetIndoor
    IN_CHANNEL: 6
    MID_CHANNEL: 16
    BLOCK_RESIDUAL: True
    BLOCK_REPS: 2
    NUM_BLOCKS: 7
    CUSTOM_SP1X1: True

  ADAPTER:
    NAME: VLAdapter
    EVAL_ONLY: False
    NUM_ADAPTER_LAYERS: 1
    TEXT_DIM: -1
    LAST_NORM: True
    FEAT_NORM: False

  TASK_HEAD:
    NAME: TextSegHead
    FEAT_NORM: False
    CORRECT_SEG_PRED_BINARY: False

    TEXT_EMBED:
      NAME: CLIP
      NORM: True
      PATH: text_embed/s3dis_clip-ViT-B16_id.pth

    LOGIT_SCALE:
      value: 1.0
      learnable: False
    LOSS_WEIGHT: 1.0

TEXT_ENCODER:
  NAME: CLIP
  BACKBONE: ViT-B/16  # ['RN50', 'RN101', 'RN50x4', 'RN50x16', 'RN50x64', 'ViT-B/32', 'ViT-B/16', 'ViT-L/14']
  TEMPLATE: identity
  CATEGORY_NAMES: [ceiling, floor, wall, beam, column, window, door, table, chair, sofa, bookcase, board, clutter]
  EXTRACT_EMBED: False  # Online extract text embeding from class or not
#  BERT:
#  BACKBONE: bert-base-uncased


OPTIMIZATION:
  BATCH_SIZE_PER_GPU: 4
  TEST_BATCH_SIZE_PER_GPU: 1
  NUM_EPOCHS: 32
  LR: 0.004  # 4e-3
  SCHEDULER: adam_onecycle
  OPTIMIZER: adam_onecycle
  WEIGHT_DECAY: 0.0001
  MOMENTUM: 0.9
  MULTIPLIER: 0.1
  CLIP_GRAD: False
  PCT_START: 0.4
  DIV_FACTOR: 2
  MOMS: [0.95, 0.85]
  SAVE_EPOCH: []

OTHERS:
  PRINT_FREQ: 20
  EVAL_FREQ: 5
  SYNC_BN: False
  USE_AMP: True

OSS:
  DATA: False